#include "..\inc\isr.h"
#include <includes.h>
#include "../inc/app_config.h"
#include "../inc/task_config.h"
#include <stdio.h>

/**
 * Subrutina de manejo de interrupcion por pulsador incrustada en uCOS
 */
void pushbutton_isr() {
OSIntEnter();
	int KEY_value, SW_value;

	KEY_value = *(KEY_ptr + 3);		// Leemos registro de pulsadores
	SW_value = *(SW_switch_ptr);	// Leemos registro de Switches
	SW_value = SW_value & 1;
	printf("UY\n");

	//Indicaremos a la funcion de sd que cargue una imagen posteando en su mailbox
	OSMboxPost();

	KEY_value=0;
OSIntExit();
}



